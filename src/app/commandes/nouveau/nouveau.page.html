<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button id="menu" color="light"></ion-menu-button>
    </ion-buttons>
    <ion-title>Nouvelle commande</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content text-center>
	
	<ion-grid>
		<ion-row id="searchRow">
			<ion-col>
				<ion-searchbar placeholder="Filtrer les produit" class="hide-only-lg hide-only-xl hide-only-md"></ion-searchbar>
				<div style="text-align:center;" class="hide-only-sm hide-only-xs">
					<span>
					<input type="text" placeholder="Recherche..." />
					<!--<ion-input class="searchInput" placeholder="Recherche..." type="text" ></ion-input>-->
					<button (click)="random()">
  						<ion-icon name="search"></ion-icon>
					</button>
					</span>
				</div>
			</ion-col>
		</ion-row>

		<!--<ion-row id="categoriesList" *ngFor="let page of commandePages ; let i = index">
=======
		<ion-row id="categoriesList" *ngFor="let page of commandePages; let i = index" class="hide-only-xs hide-only-sm">
>>>>>>> design
			<ion-col col-2 *ngFor="let item of page; let j = index">
				<button
					*ngIf="!item.statusFilter"
					(click)="addOrRemoveCategorieToFilter(i, j)" >{{item.name}}</button>
				<button
					*ngIf="item.statusFilter"
					(click)="addOrRemoveCategorieToFilter(i, j)"
					style="background-color: #142768; color:white;"
					>{{item.name}}</button>
			</ion-col>
		</ion-row>-->
		<ion-row id="categoriesList" >
			<ion-col col-2 class="cat-filter" *ngFor="let cate of produitCategoris ; let i = index">
				<!--<button (click)="addOrRemoveCategorieToFilter(i, j)" >{{cate.name}}</button>-->
				<button (click)="filtrerParID(cate.id)" >{{cate.name}}</button>
			</ion-col>
		</ion-row>
		<ion-row>
			<ion-col id="horiszontalBar">
			</ion-col>
		</ion-row>
		<ion-row>
			<ion-col>
				<ion-item text-center>
					<ion-label>Choisir une table</ion-label>
					<ion-select okText="Ok" cancelText="Annuler" [(ngModel)]="tableId">
				    	<ion-select-option value="">Aucune</ion-select-option>
				    	<ion-select-option *ngFor="let table of tables" value="{{ table.id }}">{{ table.label }}</ion-select-option>
				    </ion-select>
				</ion-item>
			</ion-col>
			<ion-col id="shwitchIcons" text-right class="hide-only-xs hide-only-sm">
				<button class="on" *ngIf="showList"  (click)="setToCard()"><ion-icon name="grid"></ion-icon></button>
				<button class="off" *ngIf="!showList"  (click)="setToCard()"><ion-icon name="grid"></ion-icon></button>
				<button class="on" *ngIf="!showList" (click)="setToList()"><ion-icon name="reorder"></ion-icon></button>
				<button click="off" *ngIf="showList" (click)="setToList()"><ion-icon name="reorder"></ion-icon></button>
			</ion-col>
		</ion-row>
		<ion-row>
			<ion-col>
				<p id="contentList">
					<ion-grid *ngIf="showList" class="hide-only-xs hide-only-sm">
						<ion-row text-center>
							<ion-col col-1>
							</ion-col>
							<ion-col col-3>
								Nom
							</ion-col>
							<ion-col col-1>
								Prix
							</ion-col>
							<ion-col col-1>
								Stock
							</ion-col>
							<ion-col col-3>
								Quantité
							</ion-col>
							<ion-col col-2>
								
							</ion-col>
							<!--
								<ion-col col-2>
								</ion-col>
							-->
						</ion-row>
						<div class="query_status">

						</div>
						<ion-row text-center *ngFor="let produit of products; let i = index" class="list-row-item">

							<ion-col align-self-center col-1>
								<img src="{{produit.url}}" />
							</ion-col>
							<ion-col align-self-center col-3>
								{{produit.name}}
							</ion-col>
							<ion-col align-self-center col-2>
								<span class="digits">{{produit.prix}}</span> €
							</ion-col>
							<ion-col align-self-center col-1>
								<span class="digits qtity_{{produit.id}}">{{produit.quantite}}</span>
								<input class="{{produit.id}}_stock" type="hidden" name="" value="{{produit.quantite}}">
							</ion-col>
							<ion-col align-self-center col-3>
								<button class="circular {{produit.id}}_reduise mois" (click)="moins(produit.id+'_mois')" style="background-color:#EC0000;">-</button>
								<span  class = "nonDigits" >
									<input class="qte_{{produit.id}}" type="text" value="0" style="width: 40px;" />
								</span>
								<button id="{{produit.id}}_adder" class="circular add {{produit.id}}_adder plus" (click)="plus(produit.id+'_add')" style="background-color:#00B79A;">+</button>
							</ion-col>
							<!--
							<ion-col align-self-center col-1>
								<ion-select value="brown" okText="Okay" cancelText="Dismiss" [(ngModel)]="tableId">
							      <ion-select-option value="">Aucune</ion-select-option>
							      <ion-select-option *ngFor="let table of tables" value="{{ table.id }}">{{ table.label }}</ion-select-option>
							    </ion-select>
							</ion-col>
							-->
							<ion-col align-self-center col-2>
								<button class="nonCirculaire" (click)="ajouter(produit, produit.quantite,  tableId,produit.quantite,produit.id)">AJOUTER</button>
							</ion-col>
						</ion-row>
					</ion-grid>
					<ion-grid *ngIf="!showList">
						<ion-row>
							<ion-col *ngFor="let produit of products; let i = index " size-md="4" size-lg="4" size-xl="4" size-xm="3" size-sm="4">
								<ion-card>
						        	<img class="cardImg" src="{{produit.url}}" />
						        	<ion-card-header>
						          		<ion-card-title text-center style="text-align: center!important;width: 100%;">{{produit.name}}</ion-card-title>
						        	</ion-card-header>
						        	<ion-card-content text-cente>
						        		<div>
						          			<ion-chip text-center>
											  	<ion-label>{{catname(produit.id)}}</ion-label>
											</ion-chip>
											<p>{{produit.pu}}</p>
						        		</div>
						        		<ion-item text-center>
											<ion-label>
												<button class="circular" (click)="moins(produit.id+'_mois')" style="background-color:#EC0000;">-</button>
												<span  class = "nonDigits" >
<<<<<<< HEAD
												<input type="text" class="qtitis qte_{{produit.id}}" type="text" value="0" style="width: 40px;" />
                                                <input type="hidden" class="digits prix_{{produit.id}}" value="{{produit.pu}}"  name="prix">
=======
												<input type="number" step="any"  [(value)]="produit.quantite" style="width: 40px;" />
>>>>>>> 095f933d0b3ed0269e62cc3c2cc63509db3e1f10
												</span>
												<button class="circular add {{produit.id}}_adder plus" (click)="plus(produit.id+'_add')" style="background-color:#00B79A;">+</button>
                                                <input class="{{produit.id}}_stock" type="hidden" name="" value="{{produit.qte}}">
											</ion-label>
						        		</ion-item>
						        		<!-- <ion-item>
						        			<ion-label text-center>
						        				<button class="nonCirculaire" (click)="pushToCart(produit.pu, produit.id)">AJOUTER</button>
						        			</ion-label>
						        		</ion-item> -->
						        	</ion-card-content>
						      	</ion-card>
							</ion-col>
						</ion-row>
					</ion-grid>
				</p>
			</ion-col>
		</ion-row>
		<ion-row>
<<<<<<< HEAD
			<ion-col class="cartshop">
				<ion-label class="panier" text-center>
					<div class="shoper" (click)="Mycart()">
						<ion-badge style="top: 25px;z-index: 22;position: absolute;right: 0;left: 0;height: 20px;width: 20px;margin: 0 auto;" slot="start">{{Cartshop.length}}</ion-badge>
						<ion-icon style="font-size: 50pt; color: #D76800" name="basket">
						</ion-icon>
					</div>
=======
			<ion-col text-left>
				<ion-label class="panier">
					<ion-badge (click)="detailsPanier()" slot="start">{{nombrePanier()}}</ion-badge>
					<ion-icon name="basket">
					</ion-icon>
>>>>>>> 095f933d0b3ed0269e62cc3c2cc63509db3e1f10
				</ion-label>
			</ion-col>
			<ion-col text-right>
				<ion-fab id="addButton">
					<ion-fab-button (click)="ajoutGlobal()">
						<ion-icon class="icon-size" name="checkmark"></ion-icon>
					</ion-fab-button>
				</ion-fab>
			</ion-col>
		</ion-row>
	</ion-grid>
</ion-content>
